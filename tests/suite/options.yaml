command: ./target/release/lucifer
tests:
  - name: --output-directory changes where results.json ends up
    description: >
      Given a output directory request in long form
      When lucifer runs
      Then it should create a file in the correct folder
    expectations: 
      exitCode: 0
      performance: 10
      file: ./output/results_folder_long_form/results.json
    args:
      - -i 
      - ./tests/test_data/output_to_results_long_form_folder

  - name: -o changes where results.json ends up
    description: >
      Given a output directory request in short form
      When lucifer runs
      Then it should create a file in the correct folder
    expectations: 
      exitCode: 0
      performance: 10
      file: ./output/results_folder_long_form/results.json
    args:
      - -i
      - ./tests/test_data/output_to_results_short_form_folder

  - name: -i without argument produces exit code 2
    description: >
      Given an input directory request in short form
      When lucifer runs
      Then it should return the error code 2
    expectations: 
      exitCode: 2
      performance: 10
      error: | 
        Expected an input directory after "-i", but none was provided.

    args:
      - -n
      - -i

  - name: --input-directory without argument produces exit code 2
    description: >
      Given an input directory request in long form
      When lucifer runs
      Then it should return the error code 2
    expectations: 
      exitCode: 2
      performance: 10
      error: | 
        Expected an input directory after "--input-directory", but none was provided.

    args:
      - -n
      - --input-directory

  - name: -o without argument produces exit code 2
    description: >
      Given an output directory request in short form
      When lucifer runs
      Then it should return the error code 2
    expectations: 
      exitCode: 2
      performance: 10
      error: | 
        Expected an output directory after "-o", but none was provided.

    args:
      - -n
      - -o

  - name: --output-directory without argument produces exit code 2
    description: >
      Given an output directory request in long form
      When lucifer runs
      Then it should return the error code 2
    expectations: 
      exitCode: 2
      performance: 10
      error: | 
        Expected an output directory after "--output-directory", but none was provided.

    args:
      - -n
      - --output-directory

  - name: -i with non-existent filepath produces exit code 2
    description: >
      Given an input directory request in short form with a non-existent filepath 
      When lucifer runs
      Then it should return the error code 2
    expectations: 
      exitCode: 2
      performance: 10
      error: | 
        Could not find path "./some/non-existent/path". It may be that the path does not exist or the current user does not have read permissions.

    args:
      - -n
      - -i
      - ./some/non-existent/path

  - name: --input-directory with non-existent filepath produces exit code 2
    description: >
      Given an input directory request in long form with a non-existent filepath 
      When lucifer runs
      Then it should return the error code 2
    expectations: 
      exitCode: 2
      performance: 10
      error: | 
        Could not find path "./some/non-existent/path". It may be that the path does not exist or the current user does not have read permissions.

    args:
      - -n
      - --input-directory
      - ./some/non-existent/path

  # TODO: Tests for input directory (This will be easier once contains expectations are available)